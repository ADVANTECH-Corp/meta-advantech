From 9b25089d95df6a09a7dd47f7c53a97fe451a04f4 Mon Sep 17 00:00:00 2001
From: Your Name <you@example.com>
Date: Fri, 20 May 2016 10:44:50 +0800
Subject: [PATCH] Add SPI id


diff --git a/drivers/mtd/spi-nor/spi-nor.c b/drivers/mtd/spi-nor/spi-nor.c
old mode 100644
new mode 100755
index e8b977c..0d4d2f0
--- a/drivers/mtd/spi-nor/spi-nor.c
+++ b/drivers/mtd/spi-nor/spi-nor.c
@@ -529,6 +529,11 @@ static int spi_nor_unlock(struct mtd_info *mtd, loff_t ofs, uint64_t len)
  * have been converging on command sets which including JEDEC ID.
  */
 static const struct spi_device_id spi_nor_ids[] = {
+#ifdef CONFIG_ARCH_ADVANTECH
+	/* Micron N25Q */
+	{ "n25q", INFO(0x20ba16, 0, 64 * 1024,  64, SECT_4K) },
+	{ "n25q", INFO(0x20bb16, 0, 64 * 1024,  64, SECT_4K) },
+#endif
 	/* Atmel -- some are (confusingly) marketed as "DataFlash" */
 	{ "at25fs010",  INFO(0x1f6601, 0, 32 * 1024,   4, SECT_4K) },
 	{ "at25fs040",  INFO(0x1f6604, 0, 64 * 1024,   8, SECT_4K) },
-- 
1.7.9.5

